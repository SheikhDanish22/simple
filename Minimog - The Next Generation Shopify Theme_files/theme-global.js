MinimogTheme.pubSubEvents={cartError:"cart-error",cartUpdate:"cart-update",openCartDrawer:"open-cart-drawer",openSearchPopup:"open-search-popup",closeSearchPopup:"close-search-popup"};const requestDefaultConfigs={mode:"same-origin",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}};MinimogTheme.config={mqlMobile:!1,mqlTablet:!1,mediaQueryMobile:"screen and (max-width: 767px)",mediaQueryTablet:"screen and (max-width: 1023px"},MinimogTheme.initWhenVisible=function(e){const t=e.threshold?e.threshold:0;new IntersectionObserver(((t,i)=>{t.forEach((t=>{t.isIntersecting&&"function"==typeof e.callback&&(e.callback(),i.unobserve(t.target))}))}),{rootMargin:`0px 0px ${t}px 0px`}).observe(e.element)},function(){const e=window.matchMedia(MinimogTheme.config.mediaQueryMobile);MinimogTheme.config.mqlMobile=e.matches,e.onchange=e=>{e.matches?(MinimogTheme.config.mqlMobile=!0,document.dispatchEvent(new CustomEvent("matchMobile"))):(MinimogTheme.config.mqlMobile=!1,document.dispatchEvent(new CustomEvent("unmatchMobile")))};const t=window.matchMedia(MinimogTheme.config.mediaQueryTablet);MinimogTheme.config.mqlTablet=t.matches,t.onchange=e=>{e.matches?(MinimogTheme.config.mqlTablet=!0,document.dispatchEvent(new CustomEvent("matchTablet"))):(MinimogTheme.config.mqlTablet=!1,document.dispatchEvent(new CustomEvent("unmatchTablet")))};var i=document.querySelector(".m-page-transition");!function(){if(!window.AnimationEvent||!i)return;let e=!1;const t="true"===i.dataset.designMode;document.querySelectorAll("a[href^=mailto], a[href^=tel]").forEach((t=>{t.addEventListener("click",(()=>{e=!0}))})),t&&Shopify.designMode?i.classList.add("m-page-transition--design-mode"):(window.addEventListener("beforeunload",(()=>{e||i.classList.add("fade-in")})),window.addEventListener("DOMContentLoaded",(()=>{document.documentElement.classList.remove("m:overflow-hidden"),document.body.classList.remove("m:overflow-hidden"),setScrollbarWidth(),setTimeout((()=>{i.classList.add("fade-out")}),300),document.dispatchEvent(new CustomEvent("page:loaded"))})),window.addEventListener("pageshow",(e=>{e.persisted&&i.classList.remove("fade-in")})))}()}();class CountdownTimer{constructor(e,t,i,s={}){this.times=["day","hour","min","sec"],this.selectors={day:".countdown-timer-day",hour:".countdown-timer-hour",min:".countdown-timer-minute",sec:".countdown-timer-sec"},this.DAY_IN_MS=864e5,this.HOUR_IN_MS=36e5,this.MIN_IN_MS=6e4,this.container=e,this.startTime=t,this.savedStartTime=t,this.endTime=i,this.options=Object.assign({},{addZeroPrefix:!0,loop:!1,callback:()=>{}},s),this.intervalTime=1e3,this.timer=null,this.domNodes=queryDomNodes(this.selectors,e),this.start()}start(){this.timer=setInterval((()=>{this.startTime>this.endTime?this.stop():this.update()}),this.intervalTime),this.container.style.removeProperty("opacity")}update(){const e=this.format(this.endTime-this.startTime);this.times.forEach((t=>{this.domNodes[t]&&(this.domNodes[t].textContent=this.addZeroPrefix(e[t]))})),this.startTime+=this.intervalTime}stop(){clearInterval(this.timer),this.options.loop?(this.startTime=this.savedStartTime,this.start()):(this.timer=null,this.options.callback())}clear(){clearInterval(this.timer),this.timer=null,this.startTime=this.savedStartTime,this.times.forEach((e=>{this.domNodes[e]&&(this.domNodes[e].textContent="00")}))}addZeroPrefix(e){return this.options.addZeroPrefix&&e<10?`0${e}`:e.toString()}format(e){return{day:Math.floor(e/this.DAY_IN_MS),hour:Math.floor(e/this.HOUR_IN_MS)%24,min:Math.floor(e/this.MIN_IN_MS)%60,sec:Math.floor(e/1e3)%60}}}window.MinimogTheme.CountdownTimer=CountdownTimer;class Tabs{constructor(e,t=(()=>{})){this.selectors={tabHeaders:[".m-tab-header"],tabContents:[".m-tab-content"]},this.activeClass="active",this.currentActiveIndex=-1,this.currentTab=null,this.container=e,this.cb=t,this.domNodes=queryDomNodes(this.selectors,e),this.customSelect=this.container.querySelector("m-select-component"),this.init(),this.setActiveTab(0)}init(){addEventDelegate({context:this.container,selector:this.selectors.tabHeaders[0],handler:(e,t)=>{let i;e.preventDefault(),t&&(i=Number(t.dataset.index)),this.setActiveTab(i),this.cb(t)}})}setActiveTab(e){const{tabHeaders:t,tabContents:i}=this.domNodes;if(i.length&&-1!==e&&this.currentActiveIndex!==e){let s,n,o;if(s=t&&t[this.currentActiveIndex],n=t&&t[e],this.customSelect&&n){"select"===this.customSelect.dataset.tabHeader&&this.customSelect.updateCustomSelectChecked(e,n.innerHTML),MinimogTheme.config.mqlMobile&&this.customSelect.updateCustomSelectChecked(e,n.innerHTML),document.addEventListener("matchMobile",(()=>this.customSelect.updateCustomSelectChecked(e,n.innerHTML)))}o=i&&i[e],s&&s.classList.remove(this.activeClass),this.currentTab&&this.currentTab.classList.remove(this.activeClass),n&&n.classList.add(this.activeClass),o&&o.classList.add(this.activeClass),setTimeout((()=>o.style.opacity=1)),this.currentActiveIndex=e,this.currentTab=o}}}function setScrollbarWidth(){document.documentElement.style.setProperty("--m-scrollbar-width",window.innerWidth-document.documentElement.clientWidth+"px")}function isStorageSupported(e){if(window.self!==window.top)return!1;const t="minimog:check";let i;"session"===e&&(i=window.sessionStorage),"local"===e&&(i=window.localStorage);try{return i.setItem(t,"1"),i.removeItem(t),!0}catch(e){return!1}}function getFocusableElements(e){return Array.from(e.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe"))}window.MinimogTheme.Tabs=Tabs,void 0===window.Shopify&&(window.Shopify={}),Shopify.bind=function(e,t){return function(){return e.apply(t,arguments)}},Shopify.setSelectorByValue=function(e,t){for(var i=0,s=e.options.length;i<s;i++){var n=e.options[i];if(t==n.value||t==n.innerHTML)return e.selectedIndex=i,i}},Shopify.addListener=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)},Shopify.CountryProvinceSelector=function(e,t,i){this.countryEl=document.getElementById(e),this.provinceEl=document.getElementById(t),this.provinceContainer=document.getElementById(i.hideElement||t),Shopify.addListener(this.countryEl,"change",Shopify.bind(this.countryHandler,this)),this.initCountry(),this.initProvince()},Shopify.CountryProvinceSelector.prototype={initCountry:function(){var e=this.countryEl.getAttribute("data-default");Shopify.setSelectorByValue(this.countryEl,e),this.countryHandler()},initProvince:function(){var e=this.provinceEl.getAttribute("data-default");e&&this.provinceEl.options.length>0&&Shopify.setSelectorByValue(this.provinceEl,e)},countryHandler:function(e){var t=(n=this.countryEl.options[this.countryEl.selectedIndex]).getAttribute("data-provinces"),i=JSON.parse(t);if(this.clearOptions(this.provinceEl),i&&0==i.length)this.provinceContainer.style.display="none";else{for(var s=0;s<i.length;s++){var n;(n=document.createElement("option")).value=i[s][0],n.innerHTML=i[s][1],this.provinceEl.appendChild(n)}this.provinceContainer.style.display=""}},clearOptions:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},setOptions:function(e,t){var i=0;for(t.length;i<t.length;i++){var s=document.createElement("option");s.value=t[i],s.innerHTML=t[i],e.appendChild(s)}}},setScrollbarWidth();const trapFocusHandlers={};function trapFocus(e,t=e){var i=getFocusableElements(e),s=i[0],n=i[i.length-1];removeTrapFocus(),trapFocusHandlers.focusin=t=>{t.target!==e&&t.target!==n&&t.target!==s||document.addEventListener("keydown",trapFocusHandlers.keydown)},trapFocusHandlers.focusout=function(){document.removeEventListener("keydown",trapFocusHandlers.keydown)},trapFocusHandlers.keydown=function(t){"TAB"===t.code.toUpperCase()&&(t.target!==n||t.shiftKey||(t.preventDefault(),s.focus()),t.target!==e&&t.target!==s||!t.shiftKey||(t.preventDefault(),n.focus()))},document.addEventListener("focusout",trapFocusHandlers.focusout),document.addEventListener("focusin",trapFocusHandlers.focusin),t.focus(),"INPUT"===t.tagName&&["search","text","email","url"].includes(t.type)&&t.value&&t.setSelectionRange(0,t.value.length)}function removeTrapFocus(e=null){document.removeEventListener("focusin",trapFocusHandlers.focusin),document.removeEventListener("focusout",trapFocusHandlers.focusout),document.removeEventListener("keydown",trapFocusHandlers.keydown),e&&e.focus()}function getRequestDefaultConfigs(){return JSON.parse(JSON.stringify(requestDefaultConfigs))}function fetchJSON(e,t=getRequestDefaultConfigs()){return fetch(e,t).then((function(e){if(!e.ok)throw e;return e.json()}))}const cache=new Map;function fetchCache(e,t=getRequestDefaultConfigs()){return new Promise(((i,s)=>{let n=cache.get(e);if(n)return i(n);fetch(e,t).then((t=>{n=t.text(),cache.set(e,n),i(n)})).catch(s)}))}const sectionCache=new Map;function fetchSection(e,t={}){const{url:i,fromCache:s=!1,params:n={}}=t;return new Promise(((t,o)=>{const r=new URL(i||window.location.href);if(r.searchParams.set("section_id",e),Object.entries(n).forEach((([e,t])=>r.searchParams.set(e,t))),s){const e=sectionCache.get(r);if(e)return t(e)}fetch(r,getRequestDefaultConfigs()).then((t=>{if(t.ok)return t.text();o(`Failed to load section: ${e}`)})).then((e=>{const i=generateDomFromString(e);sectionCache.set(r,i),t(i)})).catch(o)}))}const cache2=new Map;function fetchJsonCache(e,t=requestDefaultConfigs){return new Promise(((i,s)=>{if(cache2.get(e))return i(cache2.get(e));fetch(e,t).then((t=>{if(t.ok){const s=t.json();return i(s),cache2.set(e,s),s}s(t)})).catch(s)}))}function formatMoney(e,t){"string"==typeof e&&(e=e.replace(".",""));let i="";const s=/\{\{\s*(\w+)\s*\}\}/,n=t||"${{amount}}";function o(e,t=2,i=",",s="."){if(isNaN(e)||null==e)return 0;const n=(e=(e/100).toFixed(t)).split(".");return n[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,`$1${i}`)+(n[1]?s+n[1]:"")}switch(n.match(s)[1]){case"amount":i=o(e,2);break;case"amount_no_decimals":i=o(e,0);break;case"amount_with_comma_separator":i=o(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":i=o(e,0,".",",")}return n.replace(s,i)}function validateForm(e){const t=[];if(!e)return t;return e.querySelectorAll('[data-product-custom-field] [name][required]:not([hidden]):not([type="hidden"])').forEach((i=>{if(i.classList.remove("form-control--warning"),"radio"===i.type){const s=e.querySelectorAll(`input[name="${i.name}"]`);Array.from(s).some((e=>e.checked))||(t.push(i),i.classList.add("form-control--warning"))}else i.value||(t.push(i),i.classList.add("form-control--warning"))})),t}function generateDomFromString(e,t="div"){const i=document.createElement(t);return i.innerHTML=e,i}function generateDomeFromStringNew(e,t="div"){return(new DOMParser).parseFromString(e,"text/html").querySelector(t)}function fetchCountDown(e){const t=MinimogSettings.foxKitBaseUrl?`https://${MinimogSettings.foxKitBaseUrl}`:"";return new Promise(((i,s)=>{let n=`${t}/api/public/countdown?shop=${window.Shopify.shop}&collectionIds=${e}`;fetch(n).then((e=>e.json())).then(i).catch(s)}))}function loadAssetsNew(e=[],t,i=(()=>{}),s={}){const n=t||Math.random().toString(36).slice(2);window.MinimogLibs.loadjs.isDefined(t)||window.MinimogLibs.loadjs(e,n),window.MinimogLibs.loadjs.ready(n,i)}function pauseAllMedia(e=document){e.querySelectorAll(".js-youtube").forEach((e=>{e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})),e.querySelectorAll(".js-vimeo").forEach((e=>{e.contentWindow.postMessage('{"method":"pause"}',"*")})),e.querySelectorAll("video").forEach((e=>e.pause())),e.querySelectorAll("product-model").forEach((e=>{e.modelViewerUI&&e.modelViewerUI.pause()}))}function loadJS(e,t=document.body,i=!1,s=!0){return new Promise(((n,o)=>{const r=t.ownerDocument,a=r.querySelector(`script[src="${e}"]`);if(a)return a.dataset.loaded?n(!0):void a.addEventListener("load",(()=>{a.dataset.loaded=!0,n(!0)}));const c=r.createElement("script");c.src=e,c.async=i,c.defer=s,c.addEventListener("load",(()=>{c.dataset.loaded=!0,n(!0)})),c.onerror=o,t.appendChild(c)}))}function loadCSS(e,t=document.head){return new Promise(((i,s)=>{const n=t.ownerDocument,o=n.querySelector(`link[href="${e}"]`);if(o)return o.dataset.loaded?i(!0):void o.addEventListener("load",(()=>{o.dataset.loaded=!0,i(!0)}));const r=n.createElement("link");r.rel="stylesheet",r.href=e,r.addEventListener("load",(()=>{r.dataset.loaded=!0,i(!0)})),r.onerror=s,t.appendChild(r)}))}function addEventDelegate({context:e=document.documentElement,event:t="click",selector:i,handler:s,capture:n=!1}){const o=function(e){for(let t=e.target;t&&t!==this;t=t.parentNode)if(t.matches(i)){s.call(t,e,t);break}};return e.addEventListener(t,o,n),()=>{e.removeEventListener(t,o,n)}}function debounce(e,t){let i;return(...s)=>{clearTimeout(i),i=setTimeout((()=>e.apply(this,s)),t)}}function _validateOptionsArray(e){if(Array.isArray(e)&&"object"==typeof e[0])throw new Error(e+"is not a valid array of options.")}function _validateProductStructure(e){if("object"!=typeof e)throw new TypeError(e+" is not an object.");if(0===Object.keys(e).length&&e.constructor===Object)throw new Error(e+" is empty.")}function getVariantFromOptionArray(e,t){return _validateProductStructure(e),_validateOptionsArray(t),e.variants.filter((function(e){return t.every((function(t,i){return e.options[i]===t}))}))[0]||null}function getSizedImageUrl(e,t){if(null===t)return e;if("master"===t)return removeProtocol(e);var i=e.match(/\.(jpg|jpeg|gif|png|webp|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(i){var s=e.split(i[0]),n=i[0];return removeProtocol(s[0]+"_"+t+n)}return null}function removeProtocol(e){return e.replace(/http(s)?:/,"")}function updateParam(e,t){var{location:i}=window,s=[i.protocol,"//",i.host,i.pathname].join("");const n=window.location.search,o=new URLSearchParams(n);return o.has(e)?(""!==t&&"undefined"!==t&&o.set(e,t),""!==t&&"undefined"!==t||o.delete(e)):t&&o.append(e,t),window.history.replaceState({},"",s+"?"+o.toString()),!1}function createSearchLink(e){const t=new URLSearchParams({type:"product","options[unavailable_products]":"last","options[prefix]":"last",q:e});return`${window.MinimogSettings.routes.search_url}?${t.toString()}`}function refreshProductReview(){if("undefined"!=typeof SMARTIFYAPPS&&SMARTIFYAPPS.rv.installed&&SMARTIFYAPPS.rv.scmReviewsRate.actionCreateReviews(),"undefined"!=typeof Yotpo&&"function"==typeof Yotpo.API){const e=new Yotpo.API(yotpo);e?.refreshWidgets()}}function queryDomNodes(e={},t=document){return Object.entries(e).reduce(((e,[i,s])=>{const n="string"==typeof s,o=n?"querySelector":"querySelectorAll",r=n?s:s[0];return t&&(e[i]=t[o](r)),!n&&e[i]&&(e[i]=[...e[i]]),e}),{})}function saleProgress(e,t,i){const{total_quantity:s,sold_to:n,sold_from:o}=e;let r;if(i)r=parseInt(i);else{const e=n-o;let i=4/24+(Number(t.split("").pop())+1)/10;i>1&&(i-=1);r=o+Math.ceil(i*e)}const a=s-r;return`\n    <div class="m-product-sale-progress">\n      <div class="m-product-sale-progress__bar" data-flash-sale>\n        <span data-sale-progress style="width: ${100*r/s}%;" />\n      </div>\n      <div class="m-product-sale-progress__text">\n        <div>\n          <span>${MinimogStrings.sold}: </span>\n          <strong data-sale-number>${r||0}</strong>\n        </div>\n        <div>\n          <span>${MinimogStrings.available}: </span>\n          <strong data-available-number>${a||0}</strong>\n        </div>\n      </div>\n    </div>\n  `}function spinner(e=""){return`<svg class="animate-spin m:hidden m-svg-icon--medium ${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">\n    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\n    <path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\n  </svg>`}function fetchConfig(e="json"){return{method:"POST",headers:{"Content-Type":"application/json",Accept:`application/${e}`}}}function setCookie(e,t,i){var s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3);var n="expires="+s.toUTCString();document.cookie=e+"="+t+";"+n+";path=/"}function getCookie(e){for(var t=e+"=",i=decodeURIComponent(document.cookie).split(";"),s=0;s<i.length;s++){for(var n=i[s];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return""}function formatUrl(e,t,i){let s;const{routes:n}=MinimogSettings;return s=`${n.root.endsWith("/")?"":n.root}/${e}/${t}`,i&&(s+=`?${i}`),s}!function(){const e=document.querySelectorAll("[data-ps-item]");e&&e.forEach((e=>e.href=createSearchLink(e.dataset.psQuery)))}();class DeferredMedia extends HTMLElement{constructor(){super();const e=this.querySelector('[id*="Deferred-Poster-"]');e&&e.addEventListener("click",this.loadContent.bind(this))}loadContent(e=!0){if(!this.getAttribute("loaded")){const t=document.createElement("div");t.appendChild(this.querySelector("template").content.firstElementChild.cloneNode(!0)),this.setAttribute("loaded",!0);const i=this.appendChild(t.querySelector("video, model-viewer, iframe"));this.deferredElement=i,e&&i.focus(),this.playVideo(i)}}playVideo(e){if(!this.autoPlay)if(e.classList.contains("js-youtube")){const t=e.src.indexOf("?")>-1?"&":"?";e.src+=t+"autoplay=1&mute=1"}else if(e.classList.contains("js-vimeo")){const t=e.src.indexOf("?")>-1?"&":"?";e.src+=t+"autoplay=1&muted=1"}else e&&e.setAttribute("autoplay","autoplay"),e&&e.play()}}customElements.define("deferred-media",DeferredMedia);class ResponsiveImage extends HTMLElement{get intersecting(){return this.hasAttribute("intersecting")}constructor(){super(),this.img=this.querySelector("img"),this.src=this.img.src,this.observerCallback=this.observerCallback.bind(this),this.img&&(this.loadImage=this.loadImage.bind(this),this.img.onload=this.onLoad.bind(this)),this.img.complete&&this.onLoad()}connectedCallback(){"IntersectionObserver"in window?this.initIntersectionObserver():this.loadImage()}disconnectedCallback(){this.disconnectObserver()}loadImage(){this.setAttribute("intersecting","true"),this.img&&(this.img.src=this.src,this.img.width=this.clientWidth,this.img.height=this.clientHeight,this.img.sizes=this.clientWidth+"px"),window.MinimogEvents.emit("m:image-loaded",this.imageLoaded,this)}onLoad(){this.removeAttribute(""),this.classList.add("m-image-loaded")}observerCallback(e,t){e[0].isIntersecting&&(t.unobserve(this),this.loadImage())}initIntersectionObserver(){if(this.observer)return;this.observer=new IntersectionObserver(this.observerCallback,{rootMargin:"10px"}),this.observer.observe(this)}disconnectObserver(){this.observer&&(this.observer.disconnect(),this.observer=null,delete this.observer)}}customElements.define("responsive-image",ResponsiveImage);class ProductRecommendations extends HTMLElement{constructor(){super(),this.selectors={gridContainer:".m-product-list",swiperWrapper:".swiper-wrapper",slideControls:".m-slider-controls"},this.enableSlider="true"===this.dataset.enableSlider,this.useScrollMobile="true"===this.dataset.useScrollMobile,this.itemsPerPage=this.dataset.itemsPerPage}connectedCallback(){"IntersectionObserver"in window&&new IntersectionObserver(((e,t)=>{e[0].isIntersecting&&(t.unobserve(this),fetch(this.dataset.url).then((e=>e.text())).then((e=>{const t=generateDomFromString(e).querySelector("product-recommendations");t&&t.innerHTML.trim().length&&(this.innerHTML=t.innerHTML,this.totalProducts=t.querySelectorAll(".m-product-card").length,this.initByScreenSize(),document.addEventListener("matchMobile",(()=>{this.initByScreenSize()})),document.addEventListener("unmatchMobile",(()=>{this.initByScreenSize()})))})).catch((e=>{})))}).bind(this),{rootMargin:"0px 0px 400px 0px"}).observe(this)}initByScreenSize(){const{gridContainer:e,slideControls:t}=queryDomNodes(this.selectors,this);if(MinimogTheme.config.mqlMobile){if(this.initSlider(),!this.useScrollMobile)return;e&&e.classList.remove("swiper-container"),t&&t.classList.add("m:hidden"),this.swiper&&this.swiper.destroy(!1,!0),e&&e.parentNode.classList.add("m-mixed-layout--mobile-scroll")}else e&&e.classList.add("swiper-container"),e&&e.parentNode.classList.remove("m-mixed-layout--mobile-scroll"),t&&t.classList.remove("m:hidden"),this.initSlider()}initSlider(){let e=this;const{gridContainer:t,slideControls:i}=queryDomNodes(this.selectors,this);if(this.enableSlider&&this.totalProducts>this.itemsPerPage){if(this.slider=new MinimogLibs.Swiper(t,{slidesPerView:this.itemsPerPage>=2?2:1,loop:!0,autoplay:!1,pagination:{el:this.querySelector(".swiper-pagination"),clickable:!0,type:"fraction"},threshold:2,breakpoints:{1280:{slidesPerView:this.itemsPerPage}},on:{init:function(){this.slideToLoop(this.lastActive),setTimeout((()=>{const t=e.querySelector(".m-image")||e.querySelector(".m-placeholder-svg"),s=i&&i.querySelector(".m-slider-controls__button-prev"),n=i&&i.querySelector(".m-slider-controls__button-next");if(t&&i){const e=t.clientHeight;i.style.setProperty("--offset-top",parseInt(e)/2+"px"),s.classList.remove("m:hidden"),n.classList.remove("m:hidden")}}),200)}}}),this.slider){i&&i.classList.remove("m:hidden");const e=this.querySelector(".m-slider-controls__button-prev"),t=this.querySelector(".m-slider-controls__button-next");e&&e.addEventListener("click",(()=>this.slider.slidePrev())),t&&t.addEventListener("click",(()=>this.slider.slideNext()))}this.swiper=t?.swiper}else{const e=t.querySelector(".m-mixed-layout__inner");e&&e.classList.remove("swiper-wrapper"),i&&i.classList.add("m:hidden"),t&&t.classList.remove("swiper-container")}}}if(customElements.define("product-recommendations",ProductRecommendations),customElements.get("video-component")||customElements.define("video-component",class extends HTMLElement{constructor(){super(),MinimogTheme.initWhenVisible({element:this,callback:this.init.bind(this),threshold:0})}init(){this.autoPlay="true"===this.dataset.autoPlay,this.muted="true"===this.dataset.muted;const e=this.querySelector('[id^="Video-Deferred-Poster-"]');this.autoPlay?this.loadContent():e&&e.addEventListener("click",this.loadContent.bind(this))}loadContent(){if(!this.getAttribute("loaded")){const e=document.createElement("div");e.appendChild(this.querySelector("template").content.firstElementChild.cloneNode(!0)),this.setAttribute("loaded",!0);const t=this.appendChild(e.querySelector("video, model-viewer, iframe"));if(this.deferredElement=t,this.autoPlay)return;if(this.deferredElement.classList.contains("js-youtube")){const e=this.deferredElement.src.indexOf("?")>-1?"&":"?";this.deferredElement.src+=e+"autoplay=1"+(this.muted?"&mute=1":"")}else if(this.deferredElement.classList.contains("js-vimeo")){const e=this.deferredElement.src.indexOf("?")>-1?"&":"?";this.deferredElement.src+=e+"autoplay=1"+(this.muted?"&mute=1":"")}else this.deferredElement.play()}}}),!customElements.get("collapsible-tab")){class e extends HTMLElement{constructor(){super()}connectedCallback(){this.parentEl=this.closest("[data-section-id]"),this.init()}disconnectedCallback(){this.destroy()}init(){"true"===this.dataset.destroy||(this.setDefaultData(),this.attachEvents(),"true"===this.getAttribute("open")?(this.selected=!0,this.classList.add(this.expandedClass),this.setExpandedAria(),this.fire("tabOpened"),window.MinimogEvents.emit("ON_COLLAPSIBLE_TAB_OPENED",this)):(this.content.style.height=this.collapsedHeight,this.classList.add(this.collapsedClass),this.setCollapsedAria()),this.content.removeAttribute("hidden"))}transitionendEventName(){let e,t=document.createElement("div"),i={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(i.hasOwnProperty(e)&&void 0!==t.style[e])return i[e]}expand(){const e=(t=>{t.target===this.content&&(this.content.removeEventListener(this.transitionendevent,e),this.isOpen&&requestAnimationFrame((()=>{this.content.style.transition="0",this.content.style.height="auto",requestAnimationFrame((()=>{this.content.style.height=null,this.content.style.transition=null,this.setExpandedAria(),this.classList.add(this.expandedClass),this.trySetTabIndex(this.content,0),this.fire("tabOpened"),window.MinimogEvents.emit("ON_COLLAPSIBLE_TAB_OPENED",this)}))})))}).bind(this);this.content.addEventListener(this.transitionendevent,e),this.isOpen=!0,this.classList.remove(this.collapsedClass),this.content.style.height=this.content.scrollHeight+"px"}collapse(){const e=(t=>{t.target===this.content&&(this.content.removeEventListener(this.transitionendevent,e),this.isOpen||(this.fire("elementClosed"),window.MinimogEvents.emit("ON_COLLAPSIBLE_TAB_CLOSED",this),this.setCollapsedAria(),this.classList.add(this.collapsedClass),this.trySetTabIndex(this.content,-1)))}).bind(this);this.content.addEventListener(this.transitionendevent,e),this.isOpen=!1,this.classList.remove(this.expandedClass),requestAnimationFrame((()=>{this.content.style.transition="0",this.content.style.height=this.content.scrollHeight+"px",requestAnimationFrame((()=>{this.content.style.transition=null,this.content.style.height=this.collapsedHeight}))}))}open(){this.selected=!0,this.fire("elementSelected"),window.MinimogEvents.emit("ON_COLLAPSIBLE_TAB_SELECTED",this),this.expand(),this.setAttribute("open",!0)}close(){this.selected=!1,this.fire("elementUnselected"),window.MinimogEvents.emit("ON_COLLAPSIBLE_TAB_UNSELECTED",this),this.collapse(),this.removeAttribute("open")}toggle(e){if(e&&e.preventDefault(),this.selected)this.close();else if(this.open(),this.oneAtATime){const e=this.parentEl.querySelectorAll("collapsible-tab"),t=this.closest("[data-first-level]");e.length&&e.forEach((e=>{e!==this&&e.selected&&t!==e&&e.close()}))}}trySetTabIndex(e,t){const i=e.querySelectorAll(this.defaultElements);i&&i.forEach((e=>{e.setAttribute("tabindex",t)}))}setExpandedAria(){this.trigger.setAttribute("aria-expanded","true"),this.content.setAttribute("aria-hidden","false")}setCollapsedAria(e){this.trigger.setAttribute("aria-expanded","false"),this.content.setAttribute("aria-hidden","true")}attachEvents(){this.trigger.addEventListener("click",(e=>this.toggle(e)))}setDefaultData(){this.events={elementSelected:[],tabOpened:[],elementUnselected:[],elementClosed:[]},this.transitionendevent=this.transitionendEventName(),this.expandedClass="is-expanded",this.collapsedClass="is-collapsed",this.trigger=this.querySelector("[data-trigger]"),this.content=this.querySelector("[data-content]"),this.collapsedHeight="0px",this.defaultElements=["a","button","input:not(.focus-none)","[data-trigger]"],this.oneAtATime=!0,this.dataset.oneOpen&&(this.oneAtATime="true"===this.dataset.oneOpen)}fire(e){let t=this.events[e];if(t)for(let e=0;e<t.length;e++)t[e](this)}on(e,t){this.events[e]&&this.events[e].push(t)}destroy(){this.trigger.removeEventListener("click",(e=>this.toggle(e))),this.content.removeAttribute("aria-hidden"),this.content.style.height="auto",this.classList.remove(this.expandedClass,this.collapsedClass),this.removeAttribute("open")}}customElements.define("collapsible-tab",e)}if(customElements.get("product-form")||customElements.define("product-form",class extends HTMLElement{constructor(){super(),this.selectors={form:"form",inputId:"[name=id]",submitButton:'[name="add"]',errorWrapper:".m-product-form-message",customFields:["[data-product-custom-field]"],dynamicCheckout:".m-product-dynamic-checkout"}}connectedCallback(){this.domNodes=queryDomNodes(this.selectors,this),this.form=this.domNodes.form,this.productInfo=this.closest(".m-main-product--info"),this.submitButton=this.domNodes.submitButton,this.domNodes.inputId.disabled=!1,this.cart=document.querySelector("m-cart-drawer"),this.cartPage=document.querySelector("m-cart"),this.customFields=document.querySelectorAll(this.selectors.customFields),this.domNodes.dynamicCheckout&&(this.enable_dynamic_checkout=!0),this.form.addEventListener("submit",this.onSubmitHandler.bind(this)),this.domNodes.dynamicCheckout&&this.customFields&&this.domNodes.dynamicCheckout.addEventListener("click",(e=>{const t=validateForm(this.form.closest(".m-main-product--info"));t&&t.length>0&&(e.stopPropagation(),window.MinimogTheme.Notification.show({target:this.domNodes.errorWrapper,method:"appendChild",type:"warning",message:window.MinimogStrings.requiredField,delay:100}))}),!0)}toggleSpinner(e){const t=e?"add":"remove";this.classList[t]("m-spinner-loading")}onSubmitHandler(e){e.preventDefault(),this.toggleSpinner(!0);const t=validateForm(this.form.closest(".m-main-product--info"));if(t&&t.length>0)return this.toggleSpinner(!1),window.MinimogTheme.Notification.show({target:this.domNodes.errorWrapper,method:"appendChild",type:"warning",message:window.MinimogStrings.requiredField});const i=fetchConfig("javascript");i.headers["X-Requested-With"]="XMLHttpRequest",delete i.headers["Content-Type"];const s=new FormData(this.form);this.cart&&(s.append("sections",this.cart.getSectionsToRender().map((e=>e.id))),s.append("sections_url",window.location.pathname)),i.body=s;const{MinimogSettings:n,MinimogStrings:o}=window;fetch(`${n.routes.cart_add_url}`,i).then((e=>e.json())).then((e=>{if(e.status){window.MinimogEvents.emit(MinimogTheme.pubSubEvents.cartError,{source:"product-form",productVariantId:s.get("id"),errors:e.description,message:e.message}),this.error=!0;const t=s.get("id");return""===t||null===t?(this.handleErrorMessageVariantPicker(),window.MinimogTheme.Notification.show({target:this.domNodes.errorWrapper?this.domNodes.errorWrapper:document.body,method:"appendChild",type:"error",message:window.MinimogStrings.selectVariant,last:3e3,sticky:!this.domNodes.errorWrapper})):window.MinimogTheme.Notification.show({target:this.domNodes.errorWrapper?this.domNodes.errorWrapper:document.body,method:"appendChild",type:"error",message:e.message,last:3e3,sticky:!this.domNodes.errorWrapper})}n.use_ajax_atc?this.cart&&n.enable_cart_drawer?(this.cart.renderContents(e),MinimogTheme.Notification.show({target:this.cart.querySelector("m-cart-drawer-items"),method:"prepend",type:"success",message:o.itemAdded,delay:400}),window.MinimogEvents.emit(MinimogTheme.pubSubEvents.openCartDrawer)):(window.MinimogTheme.Notification.show({target:this.domNodes.errorWrapper?this.domNodes.errorWrapper:document.body,method:"appendChild",type:"success",message:o.itemAdded,last:3e3,sticky:!this.domNodes.errorWrapper}),fetchJSON(window.Shopify.routes.root+"cart.json").then((e=>{if(e){const t=e.item_count;document.querySelectorAll(".m-cart-count-bubble").forEach((e=>{t>0?(e.textContent=t,e.classList.remove("m:hidden")):e.classList.add("m:hidden")}))}}))):window.location=n.routes.cart,this.error=!1,window.MinimogEvents.emit(MinimogTheme.pubSubEvents.cartUpdate,e)})).catch((e=>{})).finally((()=>{if(this.toggleSpinner(!1),this.cart){const e=this.cart.querySelector("m-cart-drawer-items");this.cart.classList.contains("m-cart--empty")&&this.cart.classList.remove("m-cart--empty"),e&&e.classList.contains("m-cart--empty")&&e.classList.remove("m-cart--empty")}this.cartPage&&this.cartPage.classList.contains("m-cart--empty")&&this.cartPage.classList.remove("m-cart--empty")}))}handleErrorMessageVariantPicker(){const e=this.productInfo&&this.productInfo.querySelector("variant-picker"),t=e&&e.querySelectorAll("[data-selected-value]");t&&t.forEach((e=>{""===e.dataset.selectedValue&&(e.classList.add("m-product-option--unselect"),setTimeout((()=>{e.classList.remove("m-product-option--unselect")}),3e3))}))}}),!customElements.get("m-video-component")){class e extends HTMLElement{constructor(){super(),this.background="template"!==this.dataset.initMode,this.background?MinimogTheme.initWhenVisible({element:this,callback:this.init.bind(this),threshold:0}):this.init()}init(){switch(this.parentSelector=this.dataset.parent||".m-hero__bg",this.parent=this.closest(this.parentSelector),this.dataset.type){case"youtube":this.initYoutubeVideo();break;case"vimeo":this.initVimeoVideo();break;case"mp4":this.initMp4Video()}}initYoutubeVideo(){this.setAsLoading(),this.loadScript("youtube").then(this.setupYoutubePlayer.bind(this))}initVimeoVideo(){this.setAsLoading(),this.loadScript("vimeo").then(this.setupVimeoPlayer.bind(this))}initMp4Video(){const e=this.querySelector("video");if(e){const t=e.play();void 0!==t&&t.then((function(){})).catch((function(){e.setAttribute("controls","")}))}}loadScript(e){return new Promise(((t,i)=>{const s=document.createElement("script");document.body.appendChild(s),s.onload=t,s.onerror=i,s.async=!0,s.src="youtube"===e?"//www.youtube.com/iframe_api":"//player.vimeo.com/api/player.js"}))}setAsLoading(){this.parent.setAttribute("loading",!0)}setAsLoaded(){this.parent.removeAttribute("loading"),this.parent.setAttribute("loaded",!0)}setupYoutubePlayer(){const e=this.dataset.videoId,t=setInterval((()=>{window.YT&&window.YT.ready((()=>{const i=document.createElement("div");this.appendChild(i),this.player=new YT.Player(i,{videoId:e,playerVars:{showinfo:0,controls:!1,fs:0,rel:0,height:"100%",width:"100%",iv_load_policy:3,html5:1,loop:1,playsinline:1,modestbranding:1,disablekb:1},events:{onReady:this.onYoutubeReady.bind(this),onStateChange:this.onYoutubeStateChange.bind(this)}}),clearInterval(t)}))}),50)}onYoutubeReady(){if(this.iframe=this.querySelector("iframe"),this.iframe.setAttribute("tabindex","-1"),"function"==typeof this.player.mute&&this.player.mute(),"function"==typeof this.player.playVideo&&this.player.playVideo(),this.setAsLoaded(),"IntersectionObserver"in window){new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting?this.youtubePlay():this.youtubePause()}))}),{rootMargin:"0px 0px 50px 0px"}).observe(this.iframe)}}onYoutubeStateChange(e){switch(e.data){case-1:this.attemptedToPlay&&this.setAsLoaded();break;case 0:this.youtubePlay();break;case 1:this.setAsLoaded();break;case 3:this.attemptedToPlay=!0}}youtubePlay(){this.player&&"function"==typeof this.player.playVideo&&this.player.playVideo()}youtubePause(){this.player&&"function"==typeof this.player.pauseVideo&&this.player.pauseVideo()}setupVimeoPlayer(){const e=this.dataset.videoId,t=setInterval((()=>{window.Vimeo&&(this.player=new Vimeo.Player(this,{id:e,autoplay:!0,autopause:!1,background:!1,controls:!1,loop:!0,height:"100%",width:"100%"}),this.player.ready().then(this.onVimeoReady.bind(this)),clearInterval(t))}),50)}onVimeoReady(){this.iframe=this.querySelector("iframe"),this.iframe.setAttribute("tabindex","-1"),this.player.setMuted(!0),this.setAsLoaded();new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting?this.vimeoPlay():this.vimeoPause()}))}),{rootMargin:"0px 0px 50px 0px"}).observe(this.iframe)}vimeoPlay(){this.player&&"function"==typeof this.player.play&&this.player.play()}vimeoPause(){this.player&&"function"==typeof this.player.pause&&this.player.pause()}}customElements.define("m-video-component",e)}if(!customElements.get("m-search-popup")){class e extends HTMLElement{constructor(){super(),this.selectors={container:"[data-search-container]",form:"form",input:"[data-search-input]",submit:'button[type="submit"]',loading:"[data-spinner]",close:"[data-close-search]"};const e=document.querySelector("[data-search-popup]");if(!e)return;this.domNodes=queryDomNodes(this.selectors,e),this.domNodes.searchPopup=e,document.body.appendChild(e),addEventDelegate({selector:"[data-open-search-popup]",handler:()=>this.openSearchPopup()});const{input:t,submit:i,close:s,form:n}=this.domNodes;t&&t.addEventListener("keydown",(e=>{27===e.keyCode&&this.closeSearchPopup()})),i.addEventListener("click",(e=>{e.preventDefault(),t.value&&n.submit()})),s.addEventListener("click",(e=>{this.closeSearchPopup(),MinimogEvents.emit(MinimogTheme.pubSubEvents.closeSearchPopup)})),e.addEventListener("click",(t=>{t.target===e&&this.closeSearchPopup()})),MinimogEvents.subscribe(MinimogTheme.pubSubEvents.openCartDrawer,(()=>{this.hasAttribute("open")&&this.closeSearchPopup()}))}openSearchPopup(){const{searchPopup:e,input:t,container:i}=this.domNodes;e.style.removeProperty("visibility"),e.style.setProperty("opacity","1"),i.classList.add("m-show-search"),this.setAttribute("open",!0),setTimeout((()=>{i.style.removeProperty("--m-durations"),t.focus()}),350),document.documentElement.classList.add("prevent-scroll"),MinimogEvents.emit(MinimogTheme.pubSubEvents.openSearchPopup,this)}closeSearchPopup(){const{searchPopup:e,container:t}=this.domNodes;t.classList.remove("m-show-search"),e.style.setProperty("opacity","0"),setTimeout((()=>{e.style.setProperty("visibility","hidden"),t.style.setProperty("--m-durations",".3s"),document.documentElement.classList.remove("prevent-scroll"),this.removeAttribute("open")}),350)}}customElements.define("m-search-popup",e)}if(!customElements.get("m-select-component")){class e extends HTMLElement{constructor(){super(),this.selectors={elSelectNative:".js-selectNative",elSelectCustom:".js-selectCustom",elSelectCustomBox:".m-select-custom--trigger",elSelectCustomOpts:".m-select-custom--options",elSelectCustomTriggerText:".m-select-custom--trigger-text",customOptionList:[".m-select-custom--option"]},this.domNodes=queryDomNodes(this.selectors,this),this.optionChecked="",window.addEventListener("DOMContentLoaded",(()=>{this.classList.remove("m:hidden")})),this.setDefaultValue(),this.initSelect()}setDefaultValue(){const{elSelectNative:e}=this.domNodes,t=e.options[e.selectedIndex].value,i=e.options[e.selectedIndex].text;this.updateCustomSelectChecked(t,i)}initSelect(){this.classList.remove("m:hidden");const{elSelectNative:e,elSelectCustom:t,elSelectCustomBox:i}=this.domNodes;i.addEventListener("click",(()=>{!t.classList.contains("isActive")?this.openSelect():this.closeSelect()})),this.domNodes.customOptionList.forEach((t=>{t.addEventListener("click",(t=>{const i=t.target.getAttribute("data-value");e.value=i,this.closeSelect(),this.updateCustomSelectChecked(i,t.target.textContent),e.dispatchEvent(new Event("change")),e.dispatchEvent(new Event("click"))}))}))}openSelect(){const e=document.querySelectorAll("m-select-component");document.addEventListener("click",(e=>this.handleClickOutside(e))),e.length>0&&e.forEach((e=>{e.closeSelect()})),this.domNodes.elSelectCustom.classList.add("isActive")}closeSelect(){this.domNodes.elSelectCustom.classList.remove("isActive")}updateCustomSelectChecked(e,t){const{elSelectCustomOpts:i,elSelectCustomTriggerText:s}=this.domNodes,n=this.optionChecked,o=i.querySelector(`[data-value="${n}"`),r=i.querySelector(`[data-value="${e}"`);o&&o.classList.remove("isActive"),r&&r.classList.add("isActive"),s.textContent=t,this.optionChecked=e}handleClickOutside(e){const{elSelectCustom:t}=this.domNodes;!t.contains(e.target)&&this.closeSelect()}}customElements.define("m-select-component",e)}if(!customElements.get("m-instagram")){class e extends HTMLElement{constructor(){super(),this.init()}init(){const{MinimogThemeScripts:e}=window,{accessToken:t,imagesCount:i}=this.dataset;t&&loadAssetsNew([e.instagram],"instagram-module",(()=>{new MinimogTheme.Instagram(this,t,i)}))}}customElements.define("m-instagram",e)}if(!customElements.get("m-aside-instagram")){class e extends HTMLElement{constructor(){super()}connectedCallback(){const e=this.querySelector(".m-aside-instagram");if(e){const{accessToken:t,imagesCount:i}=e.dataset;if(t){const{MinimogThemeScripts:s}=window;loadAssetsNew([s.instagram],"instagram-module-blog",(()=>{new MinimogTheme.Instagram(e,t,i)}))}}}}customElements.define("m-aside-instagram",e)}class MQuantityInput extends HTMLElement{constructor(){super(),this.init()}init(){this.input=this.querySelector("input"),this.changeEvent=new Event("change",{bubbles:!0}),this.input.addEventListener("change",this.onInputChange.bind(this)),this.querySelectorAll("button").forEach((e=>e.addEventListener("click",this.onButtonClick.bind(this)))),this.quantityUpdateUnsubscriber=void 0}onInputChange(e){this.validateQtyRules()}onButtonClick(e){e.preventDefault();const t=this.input.value;"plus"===e.target.closest("button").name?this.input.stepUp():this.input.stepDown(),t!==this.input.value&&this.input.dispatchEvent(this.changeEvent)}validateQtyRules(){const e=parseInt(this.input.value);if(this.input.min){const t=parseInt(this.input.min);this.querySelector(".m-quantity__button[name='minus']").classList.toggle("m:disabled",e<=t)}if(this.input.max){const t=parseInt(this.input.max);this.querySelector(".m-quantity__button[name='plus']").classList.toggle("m:disabled",e>=t)}}}customElements.define("m-quantity-input",MQuantityInput);class ProductRecentlyViewed extends HTMLElement{constructor(){if(super(),isStorageSupported("local")){const e=parseInt(this.dataset.productId),t="minimog-recently-viewed",i=JSON.parse(window.localStorage.getItem(t)||"[]");i.includes(e)||i.unshift(e),window.localStorage.setItem(t,JSON.stringify(i.slice(0,20)))}}}customElements.define("product-recently-viewed",ProductRecentlyViewed);